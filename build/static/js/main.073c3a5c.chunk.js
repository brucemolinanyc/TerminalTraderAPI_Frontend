(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){e.exports=a(318)},185:function(e,t,a){},188:function(e,t,a){},197:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),l=a.n(o),c=(a(185),a(20)),s=a(21),i=a(23),u=a(22),m=a(24),d=a(44),h=a(101),p=a.n(h),E="",g=(a(188),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",balance:""},a.componentDidMount=function(){var e=localStorage.getItem("token"),t=p()(e);fetch(E+"/user/".concat(t.user),{method:"get",mode:"cors",Navigations:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a.setState({username:e.user.toUpperCase(),balance:e.balance.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")})})},a.onClick=function(){localStorage.clear(),a.props.history.push("/")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui inverted menu huge black"},r.a.createElement("a",{className:"red item",href:"/home/".concat(localStorage.getItem("api_key")),exact:"true"},"Home"),r.a.createElement("a",{className:"red item",href:"/deposit/".concat(localStorage.getItem("api_key")),exact:"true"},"Deposit $"),r.a.createElement("a",{className:"red item",href:"/buy/".concat(localStorage.getItem("api_key")),exact:"true"},"Buy Stock"),r.a.createElement("a",{className:"red item",href:"/sell/".concat(localStorage.getItem("api_key")),exact:"true"},"Sell Stock"),r.a.createElement("div",{className:"right menu"},r.a.createElement("div",{className:"item",width:4},r.a.createElement("p",null,r.a.createElement("strong",{className:"strong"},"Username: ",this.state.username," ",r.a.createElement("br",null),"Account: ",localStorage.getItem("api_key")," ",r.a.createElement("br",null),r.a.createElement("font",{color:"#00ff00"},"Balance: $",this.state.balance)))),r.a.createElement("div",{className:"right menu item"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{type:"text",placeholder:"Search..."}),r.a.createElement("i",{"aria-hidden":"true",className:"search icon"}))),r.a.createElement("div",{className:"right menu item"},r.a.createElement("div",{className:"ui primary button",onClick:this.onClick},"Sign Out"))))}}]),t}(r.a.Component)),f=Object(d.e)(g),b=a(332),v=a(331),y=a(325),k=(a(197),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={positions:null,trades:null},a.componentDidMount=function(){var e=a.props.match.params.id;fetch(E+"/api/".concat(e,"/positions"),{method:"get",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then(function(e){return e.json()}).then(function(e){return a.setState({positions:e.positions})}),fetch(E+"/api/".concat(e,"/alltrades"),{method:"get",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then(function(e){return e.json()}).then(function(e){return a.setState({trades:e.trades})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.positions&&this.state.positions.map(function(e,t){var a=Object.keys(e);if(e[a].shares>0)return r.a.createElement("div",{className:"positions"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"stock: \xa0",r.a.createElement("strong",null,r.a.createElement("font",{color:"blue"},e[a].ticker))),r.a.createElement("div",{className:"meta"},"amount: \xa0",r.a.createElement("strong",null,r.a.createElement("font",{color:"green"},e[a].shares)))))}),t=this.state.trades&&this.state.trades.map(function(e,t){var a=Object.keys(e);return r.a.createElement("div",{className:"trades",key:t},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"stock: \xa0",r.a.createElement("strong",null,r.a.createElement("font",{color:"blue"},e[a].ticker)),r.a.createElement("br",null),"price: $",e[a].price),r.a.createElement("div",{className:"meta"},"volume: \xa0",r.a.createElement("strong",null,r.a.createElement("font",{color:"green"},e[a].volume)),r.a.createElement("br",null),"Date made: \xa0 ",e[a].time)))});return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement(b.a,null,r.a.createElement(v.a,{columns:2,textAlign:"center"},r.a.createElement(v.a.Column,{textAlign:"center"},r.a.createElement("h2",null,"Your Positions"),e),r.a.createElement(v.a.Column,{textAlign:"center"},r.a.createElement("h2",null,"Your Trade History"),t)),r.a.createElement(y.a,{vertical:!0})))}}]),t}(r.a.Component)),S=a(329),N=a(326),w=a(328),j=a(327),C=a(42),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).onFormLogin=function(t){t.preventDefault();var a=document.getElementById("username").value,n=document.getElementById("password").value;a&&n||e.setState({loginError:!0}),fetch(E+"/login",{method:"post",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:a,password:n})}).then(function(e){return e.json()}).then(function(t){t.auth_token?(localStorage.setItem("token",t.auth_token),localStorage.setItem("api_key",t.api_key)):e.setState({loginError:!0}),localStorage.token&&e.props.history.push("/home/".concat(t.api_key))})},e.state={loggedIn:!1,loginError:null},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-form"},r.a.createElement("style",null,"\n        body > div,\n        body > div > div,\n        body > div > div > div.login-form {\n          height: 100%;\n        }\n      "),this.state.loginError&&r.a.createElement(b.a,{inverted:!0,color:"red"},"There is an issue with your scredentials - please try again"),r.a.createElement(v.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(v.a.Column,{style:{maxWidth:450}},r.a.createElement(S.a,{as:"h2",color:"teal",textAlign:"center"},"Log-in to your account"),r.a.createElement(N.a,{size:"large",onSubmit:this.onFormLogin},r.a.createElement(b.a,{stacked:!0},r.a.createElement(N.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"username",id:"username"}),r.a.createElement(N.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",id:"password"}),r.a.createElement(w.a,{color:"teal",fluid:!0,size:"large"},"Login"))),r.a.createElement(j.a,null,"Need an account? ",r.a.createElement(C.b,{to:"/register"},"Register")))))}}]),t}(r.a.Component),I=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).onFormSubmit=function(t){t.preventDefault();var a=document.getElementById("username").value,n=document.getElementById("password").value,r=document.getElementById("confirm_password").value;a&&n&&r&&n===r?fetch(E+"/create",{method:"post",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:a,password_hash:n})}).then(function(e){return e.json()}).then(function(t){localStorage.setItem("token",t.auth_token),localStorage.setItem("api_key",t.api_key),localStorage.token&&e.props.history.push("/home/".concat(t.api_key))}):e.setState({registerError:!0})},e.state={registerError:!1},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"registration-form"},r.a.createElement("style",null,"\n      body > div,\n      body > div > div,\n      body > div > div > div.registration-form {\n        height: 100%;\n      }\n    "),this.state.registerError&&r.a.createElement(b.a,{inverted:!0,color:"red"},"There is an issue with your credentials - please try again"),r.a.createElement(v.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(v.a.Column,{style:{maxWidth:450}},r.a.createElement(S.a,{as:"h2",color:"red",textAlign:"center"},"Create an account"),r.a.createElement(N.a,{size:"large",onSubmit:this.onFormSubmit},r.a.createElement(b.a,{stacked:!0},r.a.createElement(N.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"username",id:"username"}),r.a.createElement(N.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",id:"password"}),r.a.createElement(N.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",id:"confirm_password"}),r.a.createElement(w.a,{color:"red",fluid:!0,size:"large"},"Register"))),r.a.createElement(j.a,null,"Already registered? ",r.a.createElement(C.b,{to:"/"},"Log in")))))}}]),t}(r.a.Component),A=(a(316),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={amount:"",balance:0,error:null},a.handleChange=function(e){var t=e.target.value;a.setState(function(){return{amount:t}})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.amount,n=localStorage.getItem("api_key");fetch(E+"/api/".concat(n,"/deposit"),{method:"put",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({amount:t})}).then(function(e){return e.json()}).then(function(e){e.balance?a.setState({balance:e.balance,amount:"",error:!1}):e.error&&a.setState({error:!0})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=!1===this.state.error&&r.a.createElement("div",{className:"success"},r.a.createElement("p",null,"Your Deposit was successful. Your balance is now $",this.state.balance.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))),t=!0===this.state.error&&r.a.createElement("div",{className:"failure"},r.a.createElement("p",null,"Your entry was invalid - Please submit again"));return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"depositForm"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Deposit Funds"),r.a.createElement("div",{className:"depositFormInput"},r.a.createElement("input",{className:"A",placeholder:"Enter Dollar Amount $",value:this.state.amount,onChange:this.handleChange})),r.a.createElement("div",{className:"button"},r.a.createElement("button",null,"Submit"))),this.state.error?t:e,null!==this.state.error&&setTimeout(function(){window.location.reload()},2500)))}}]),t}(r.a.Component)),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={ticker:"",symbol:"",amount:"",cost:"",balance:0,error:null},a.onStockInputChange=function(e){a.setState({ticker:e.target.value})},a.onPurchaseInputChange=function(e){var t=e.target.value,n=Number(t)*Number(a.state.symbol.high);a.setState({amount:e.target.value,cost:n})},a.onStockInputClick=function(e){e.preventDefault(),fetch("https://api.iextrading.com/1.0/stock/".concat(a.state.ticker,"/previous")).then(function(e){return 404==e.status?a.setState({error:!0}):e.json().then(function(e){return a.setState({symbol:e})})})},a.handleSubmit=function(e){e.preventDefault();var t=localStorage.getItem("api_key"),n=a.state.ticker,r=Number(a.state.amount);Number.isInteger(r)?fetch(E+"/api/".concat(t,"/buy/").concat(n,"/").concat(r),{method:"post",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({amount:r,ticker:n})}).then(function(e){return e.json()}).then(function(e){e.balance?a.setState({balance:e.balance,error:!1}):e.error&&a.setState({error:!0})}):a.setState({error:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.symbol,t=e.symbol,a=e.date,n=e.open,o=e.high,l=e.low,c=this.state.symbol&&r.a.createElement("div",{className:"stockResult"},t,r.a.createElement("br",null),"Open: ",n,", High: ",o,", Low: ",l," ",r.a.createElement("br",null),"Live as of: ",a),s=!1===this.state.error&&r.a.createElement("div",{className:"success"},r.a.createElement("p",null,"Your Stock purchase was successful. Your balance is now $",this.state.balance.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))),i=!0===this.state.error&&r.a.createElement("div",{className:"failure"},r.a.createElement("p",null,"Your entry was invalid - Please submit again"));return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"depositForm"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Buy Stock"),console.log(this.state),r.a.createElement("div",{className:"depositFormInput"},r.a.createElement("div",{class:"ui action input"},r.a.createElement("input",{type:"text",placeholder:"Lookup Stock",onChange:this.onStockInputChange}),r.a.createElement("button",{class:"ui button",onClick:this.onStockInputClick},"Search")),r.a.createElement("br",null),r.a.createElement("br",null),c,r.a.createElement("br",null),r.a.createElement("div",{class:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Enter purchase amount",onChange:this.onPurchaseInputChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,this.state.amount&&r.a.createElement("p",null,"Confirm purchase of ",this.state.amount," shares of ",t," for $",this.state.amount&&Number((this.state.amount*n).toFixed(2))," ")),r.a.createElement("div",{className:"button"},r.a.createElement("button",null,"Submit")))),this.state.error?i:s,null!==this.state.error&&setTimeout(function(){window.location.reload()},2500)))}}]),t}(r.a.Component),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={ticker:"",symbol:"",amount:"",cost:"",balance:0,positions:null,error:null},a.componentDidMount=function(){var e=localStorage.getItem("api_key");fetch(E+"/api/".concat(e,"/positions"),{method:"get",mode:"cors",Navigations:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a.setState({positions:e.positions})})},a.onStockInputChange=function(e){a.setState({ticker:e.target.value})},a.onPurchaseInputChange=function(e){var t=e.target.value,n=Number(t)*Number(a.state.symbol.high);a.setState({amount:e.target.value,cost:n})},a.onStockInputClick=function(e){e.preventDefault(),fetch("https://api.iextrading.com/1.0/stock/".concat(a.state.ticker,"/previous")).then(function(e){return 404==e.status?a.setState({error:!0}):e.json().then(function(e){return a.setState({symbol:e})})})},a.handleSubmit=function(e){e.preventDefault();var t=localStorage.getItem("api_key"),n=a.state.ticker,r=Number(a.state.amount);Number.isInteger(r)?fetch(E+"/api/".concat(t,"/sell/").concat(n,"/").concat(r),{method:"post",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({amount:r,ticker:n})}).then(function(e){return e.json()}).then(function(e){e.balance?a.setState({balance:e.balance,error:!1}):e.error&&a.setState({error:!0})}):a.setState({error:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.symbol,t=e.symbol,a=e.date,n=e.open,o=e.high,l=e.low,c=this.state.positions&&this.state.positions.map(function(e,t){var a=Object.keys(e);if(e[a].shares>0)return r.a.createElement("div",{className:"positions"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"stock: \xa0",r.a.createElement("strong",null,r.a.createElement("font",{color:"blue"},e[a].ticker))),r.a.createElement("div",{className:"meta"},"amount: \xa0",r.a.createElement("strong",null,r.a.createElement("font",{color:"green"},e[a].shares)))))}),s=this.state.symbol&&r.a.createElement("div",{className:"stockResult"},t,r.a.createElement("br",null),"Open: ",n,", High: ",o,", Low: ",l," ",r.a.createElement("br",null),"Live as of: ",a),i=!1===this.state.error&&r.a.createElement("div",{className:"success"},r.a.createElement("p",null,"Your Stock sale was successful. Your balance is now $",this.state.balance.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))),u=!0===this.state.error&&r.a.createElement("div",{className:"failure"},r.a.createElement("p",null,"Your entry was invalid - Please submit again"));return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"depositForm"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Sell Stock"),r.a.createElement("div",{className:"depositFormInput"},r.a.createElement("div",{className:"ui action input"},r.a.createElement("input",{type:"text",placeholder:"Lookup Stock",onChange:this.onStockInputChange}),r.a.createElement("button",{className:"ui button",onClick:this.onStockInputClick},"Search")),r.a.createElement("br",null),r.a.createElement("br",null),s,c,r.a.createElement("br",null),r.a.createElement("div",{class:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Enter amount to sell",onChange:this.onPurchaseInputChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,this.state.amount&&r.a.createElement("p",null,"Confirm sale of ",this.state.amount," shares of ",t," for $",this.state.amount&&Number((this.state.amount*n).toFixed(2))," ")),r.a.createElement("div",{className:"button"},r.a.createElement("button",null,"Submit")))),this.state.error?u:i,null!==this.state.error&&setTimeout(function(){window.location.reload()},2500)))}}]),t}(r.a.Component),F=function(){return r.a.createElement(C.a,null,r.a.createElement("div",null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",component:O,exact:!0}),r.a.createElement(d.a,{path:"/register",component:I}),r.a.createElement(d.a,{path:"/home/:id",component:k}),r.a.createElement(d.a,{path:"/deposit/:id",component:A}),r.a.createElement(d.a,{path:"/buy/:id",component:x}),r.a.createElement(d.a,{path:"/sell/:id",component:_}))))},P=(a(317),function(){return r.a.createElement(F,null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[180,1,2]]]);
//# sourceMappingURL=main.073c3a5c.chunk.js.map